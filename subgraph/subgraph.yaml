specVersion: 1.2.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: IonicAppraisals
    network: lens-testnet
    source:
      address: "0x37f11Ca71E0d705582fE5642dFb042f889470731"
      abi: IonicAppraisals
      startBlock: 4120053
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Appraisal
        - NFT
        - ReactionUsage
      abis:
        - name: IonicAppraisals
          file: ./abis/IonicAppraisals.json
      eventHandlers:
        - event: AppraisalCreated(indexed address,indexed uint256,indexed uint256,uint256,uint256)
          handler: handleAppraisalCreated
        - event: NFTRemoved(indexed uint256,indexed address)
          handler: handleNFTRemoved
        - event: NFTSubmitted(indexed uint256,indexed address,indexed uint256,address,uint8)
          handler: handleNFTSubmitted
      file: ./src/ionic-appraisals.ts
  - kind: ethereum
    name: IonicConductors
    network: lens-testnet
    source:
      address: "0x37f11Ca71E0d705582fE5642dFb042f889470731"
      abi: IonicConductors
      startBlock: 4120053
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Conductor
        - Review
        - Reviewer
      abis:
        - name: IonicConductors
          file: ./abis/IonicConductors.json
      eventHandlers:
        - event: ConductorDeleted(indexed uint256,address)
          handler: handleConductorDeleted
        - event: ConductorRegistered(indexed address,indexed uint256,string)
          handler: handleConductorRegistered
        - event: ConductorStatsUpdated(indexed uint256,uint256,uint256)
          handler: handleConductorStatsUpdated
        - event: ConductorUpdated(indexed uint256,string)
          handler: handleConductorUpdated
        - event: ReviewSubmitted(indexed address,indexed uint256,indexed uint256,uint256)
          handler: handleReviewSubmitted
        - event: ReviewerURIUpdated(indexed address,string)
          handler: handleReviewerURIUpdated
      file: ./src/ionic-conductors.ts
  - kind: ethereum
    name: IonicReactionPacks
    network: lens-testnet
    source:
      address: "0x37f11Ca71E0d705582fE5642dFb042f889470731"
      abi: IonicReactionPacks
      startBlock: 4120053
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Reaction
        - ReactionPack
        - Purchase
        - TokenReaction
      abis:
        - name: IonicReactionPacks
          file: ./abis/IonicReactionPacks.json
        - name: IonicDesigners
          file: ./abis/IonicDesigners.json
      eventHandlers:
        - event: PackPurchased(indexed address,indexed uint256,indexed uint256,uint256,uint256)
          handler: handlePackPurchased
        - event: ReactionAdded(indexed uint256,indexed uint256,string)
          handler: handleReactionAdded
        - event: ReactionPackCreated(indexed address,indexed uint256,uint256,uint256,uint256)
          handler: handleReactionPackCreated
      file: ./src/ionic-reaction-packs.ts
  - kind: ethereum
    name: IonicDesigners
    network: lens-testnet
    source:
      address: "0x37f11Ca71E0d705582fE5642dFb042f889470731"
      abi: IonicDesigners
      startBlock: 4120053
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Designer
      abis:
        - name: IonicDesigners
          file: ./abis/IonicDesigners.json
        - name: IonicConductors
          file: ./abis/IonicConductors.json
      eventHandlers:
        - event: DesignerDeactivated(indexed uint256,indexed address)
          handler: handleDesignerDeactivated
        - event: DesignerInvited(indexed address,indexed address,indexed uint256)
          handler: handleDesignerInvited
        - event: DesignerURI(indexed uint256,string)
          handler: handleDesignerURI
      file: ./src/ionic-designers.ts
templates:
  - name: Metadata
    kind: file/ipfs
    mapping:
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/ds-handlers.ts
      handler: handleMetadata
      entities:
        - Metadata
      abis:
        - name: IonicConductors
          file: ./abis/IonicConductors.json
  - name: BaseMetadata
    kind: file/ipfs
    mapping:
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/ds-handlers.ts
      handler: handleBaseMetadata
      entities:
        - BaseMetadata
      abis:
        - name: IonicConductors
          file: ./abis/IonicConductors.json
  - name: ReactionMetadata
    kind: file/ipfs
    mapping:
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/ds-handlers.ts
      handler: handleReactionMetadata
      entities:
        - ReactionMetadata
      abis:
        - name: IonicConductors
          file: ./abis/IonicConductors.json